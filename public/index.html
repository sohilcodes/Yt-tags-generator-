<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>YouTube Info Fetcher</title>
<style>
  body { font-family: Arial, sans-serif; background: #0f0f0f; color: #fff; text-align: center; padding: 20px; }
  input, button { width: 90%; max-width: 500px; padding: 10px; margin: 10px; border-radius: 8px; border: none; }
  input { background: #222; color: #fff; }
  button { background: #ff0000; color: white; font-weight: bold; cursor: pointer; }
  button:hover { background: #e60000; }
  .card { background: #1a1a1a; padding: 20px; margin-top: 20px; border-radius: 10px; }
  .tag { background: #333; display: inline-block; margin: 5px; padding: 8px 12px; border-radius: 20px; }
</style>
</head>
<body>

<h2>üé• YouTube Video Info Fetcher</h2>
<p>Paste any YouTube link (short or full):</p>

<input type="text" id="videoUrl" placeholder="e.g. https://youtu.be/" />
<button onclick="fetchInfo()">Fetch Video Info</button>

<div id="output"></div>

<script>
const API_KEY = "AIzaSyA421K1R9ZNr0zK08-MPAxgegtsAlU7yN4";

// Extract YouTube video ID from any type of link
function extractVideoId(url) {
  const regex = /(?:v=|\/)([0-9A-Za-z_-]{11})/;
  const match = url.match(regex);
  return match ? match[1] : null;
}

async function fetchInfo() {
  const inputUrl = document.getElementById("videoUrl").value.trim();
  const videoId = extractVideoId(inputUrl);

  if (!videoId) {
    alert("‚ùå Invalid YouTube link!");
    return;
  }

  const apiUrl = `https://www.googleapis.com/youtube/v3/videos?part=snippet&id=${videoId}&key=${API_KEY}`;
  const res = await fetch(apiUrl);
  const data = await res.json();

  if (!data.items || data.items.length === 0) {
    alert("‚ö†Ô∏è Video not found!");
    return;
  }

  const snippet = data.items[0].snippet;
  document.getElementById("output").innerHTML = `
    <div class="card">
      <h3>üìå ${snippet.title}</h3>
      <p>${snippet.description.substring(0, 300)}...</p>
      <h4>üïµÔ∏è‚Äç‚ôÇÔ∏è Suggested Tags:</h4>
      <div id="tags">
        ${snippet.tags ? snippet.tags.map(tag => `<span class='tag'>${tag}</span>`).join('') : "No tags available"}
      </div>
    </div>
  `;
}
</script>

</body>
</html>
